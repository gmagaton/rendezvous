generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Categoria {
  idCategoria   String    @id @default(uuid())
  nomeCategoria String
  criacao       DateTime? @default(now())
  alteracao     DateTime? @default(now())
  produtos      Produto[]

  @@map("categorias")
}

model Produto {
  idProduto        String     @id @default(uuid())
  categoria        Categoria? @relation(fields: [idCategoria], references: [idCategoria])
  idCategoria      String
  nomeProduto      String
  preco            Decimal
  descricaoProduto String
  imagemProduto    Bytes
  cozinha          Boolean
  criacao          DateTime?  @default(now())
  alteracao        DateTime?  @default(now())
  Item             Item[]

  @@map("produtos")
}

model Comanda {
  idComanda  String   @id @default(uuid())
  numeroMesa Int
  status     Boolean
  draft      Boolean
  usuario    Usuario? @relation(fields: [idUser], references: [idUser])
  idUser     String
  Item       Item[]

  @@map("comandas")
}

model Item {
  idItem     String   @id @default(uuid())
  comanda    Comanda? @relation(fields: [idComanda], references: [idComanda])
  idComanda  String
  produto    Produto? @relation(fields: [idProduto], references: [idProduto])
  idProduto  String
  quantidade Int

  @@map("itens")
}

model Usuario {
  idUser     String    @id @default(uuid())
  nomeUser   String
  senha      String
  perfilUser String
  criacao    DateTime? @default(now())
  alteracao  DateTime? @default(now())
  Comanda    Comanda[]

  @@map("users")
}
